<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Mineração</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">

  <section class="hero">
    <h1>Como funciona a Mineração?</h1>
    <p>Entenda o processo por trás da segurança e funcionamento das criptomoedas.</p>
  </section>

  <div class="container">

    <ion-card class="info-card">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="hammer-outline"></ion-icon>
          Processo de Mineração
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>O processo de mineração começa com as transações sendo enviadas à rede e agrupadas em um bloco pelos mineradores. Cada bloco contém uma referência criptográfica ao bloco anterior, formando uma cadeia segura — a blockchain.</p>
        <p>Para adicionar um bloco à cadeia, os mineradores devem resolver um problema matemático complexo. O primeiro minerador que encontra a solução válida recebe uma recompensa.</p>
      </ion-card-content>
    </ion-card>

    <ion-card class="info-card">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="link-outline"></ion-icon>
          O que é Blockchain?
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>A blockchain é um livro-razão público que registra todas as transações confirmadas. Seu formato descentralizado garante segurança e transparência.</p>
        <ul>
          <li>Transação criada</li>
          <li>Bloco formado</li>
          <li>Bloco enviado aos nós</li>
          <li>Nós validam a operação</li>
          <li>Novo bloco é adicionado à cadeia</li>
        </ul>
      </ion-card-content>
    </ion-card>

    <ion-card class="info-card">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="code-working-outline"></ion-icon>
          Simulação de Mineração
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>A simulação reproduz parcialmente o processo de mineração real, focando a busca por um hash que respeite a dificuldade definida.</p>
      </ion-card-content>
    </ion-card>

    <ion-card class="action-card">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="settings-outline"></ion-icon>
          Configurações da Simulação
        </ion-card-title>
      </ion-card-header>

      <ion-card-content>

        <ion-item>
          <ion-select
            id="lblDiff"
            label="Dificuldade do Hash"
            placeholder="1"
            (ionChange)="selectDiff($event)"
          >
            <ion-select-option value="1">1</ion-select-option>
            <ion-select-option value="2">2</ion-select-option>
            <ion-select-option value="3">3</ion-select-option>
            <ion-select-option value="4">4</ion-select-option>
            <ion-select-option value="5">5</ion-select-option>
            <ion-select-option value="6">6</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-checkbox [(ngModel)]="ativarExemplo" *ngIf="diffBaixa">
          Ativar visualização em tempo real?
        </ion-checkbox>

        <ion-checkbox [(ngModel)]="ativarExemploDiff" *ngIf="diffAlta">
          <b>Cuidado:</b> visualização em tempo real pode deixar o processo lento.
        </ion-checkbox>

        <ion-button expand="block" shape="round" color="primary" (click)="minerar()" [disabled]="isMining">
          Iniciar Mineração
        </ion-button>

        <ion-button expand="block" shape="round" fill="outline" color="primary" (click)="resetNonce()">
          Reiniciar Tentativas
        </ion-button>

        <div class="output shadow" [innerHTML]="outputFin">{{outputFin}}</div>

        <div class="output shadow" [innerHTML]="outputBet">{{outputBet}}</div>

      </ion-card-content>
    </ion-card>

  </div>

</ion-content>
